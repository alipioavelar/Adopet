<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalhes</title>
    <link rel="stylesheet" href="detalhes.css">
</head>
<body>

    <div id="tela2"></div>
    <div id="background"></div>

    <script>

     
     function ledados() {
      let strdados = localStorage.getItem('animais');
      let objdados = { animais: [] }; // Initialize objdados with an empty array

      if (strdados) {
        objdados.animais = JSON.parse(strdados);
      }

      return objdados;
    }

    function imprimedados() {
  // Extrair o parâmetro de ID da URL
  const urlParams = new URLSearchParams(window.location.search);
  const id = urlParams.get('id');
  console.log(id);
  // Chamar imprimeDetalhes com o ID extraído da URL
  imprimeDetalhes(id);
}

function imprimeDetalhes(id) {
  let tela = document.getElementById('tela2');
  let strhtml = '';
  let objdados = ledados();

  // Verificar se o ID é válido e se existe um animal com esse ID nos dados
  if (id && objdados.animais && objdados.animais.length > 0 && id >= 0 && id < objdados.animais.length) {
    const animal = objdados.animais[id];

    strhtml += `
      <div class="col">
        <div class="card-detalhes" style=" display: flex; gap: 1rem; margin-right: 10rem;">
          <img src="${animal.foto}" class="card-img-top" height="250px" alt="...">
          <div>
            <div class="card-body">
              <h1 class="card-title">${animal.nome}</h1>
              <h2 class="card-text">Raça: ${animal.raca} <br> Peso: ${animal.peso} <br> Personalidade: ${animal.personalidade} <br> idade: ${animal.idade} <br> endereco:${animal.endereco} <br> whatsapp:${animal.whatsapp}</h2>
              <h3>${animal.descricao}</h3>
              </div>
            <div class="card-body">
             
            </div>
          </div>
        </div>
      </div>`;
  } else {
    strhtml = '<p>Nenhum animal encontrado com o ID fornecido.</p>';
  }

  tela.innerHTML = strhtml;
}



    window.onload = function() {
      ledados();
      imprimedados();
    };

    
    
    </script>
    
</body>
</html>